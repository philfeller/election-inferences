<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Ecological Inference Model</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Connecticut Voter Transitions, 1851-1857</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="sankey.html">Gubernatorial Transitions</a>
</li>
<li>
  <a href="uncertainty.html">Uncertainty in 1854-1855 Transitions</a>
</li>
<li>
  <a href="renda.html">Comparison to Goodman Regressions</a>
</li>
<li>
  <a href="office_correlation.html">Ballot Correlations</a>
</li>
<li>
  <a href="age_distribution.html">Age Distributions</a>
</li>
<li>
  <a href="model.html">Model Used</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Ecological Inference Model</h1>

</div>


<p>The ecological problem involves inferring individual-level behavior,
such as decisions to switch voting allegiance, from aggregate data, such
as vote tallies by town. There are many ways that vote shares could have
shifted between elections, and ecological inference methods attempt to
estimate the most probable transitions.</p>
<p>The Leo Goodman method was among the earliest attempts to use
regression techniques to estimate voter transition proportions from
aggregate election data, identifying parameter values that minimized
unexplained variance in observed vote shares. It was widely adopted by
historians but had important limitations. Because the method imposed no
probabilistic constraints on parameter estimates, it could yield
logically impossible results—for example, Renda’s application produces
an estimate implying that –1.6 percent of 1853 Democratic voters shifted
to Free Soil in 1854. The approach also assumed homogeneous transition
probabilities across all towns and offered no straightforward way to
model how measurable local conditions might systematically shape
different patterns of voter movement.</p>
<p>More recent methods, such as the multinomial-Dirichlet model,
building on work by Gary King and others, use statistical techniques to
estimate transition proportions while incorporating prior knowledge and
uncertainty. Rather than returning point estimates for the proportion of
voters that shift between elections, they produce probability
distributions over those proportions, like the familiar bell curve.</p>
<p>The multinomial-Dirichlet model is a hierarchical Bayesian model.
This sounds complex and technical, but each part of that description can
be unpacked. The word “hierarchical” means that the model allows
transition proportions to vary across towns with this variation
potentially explained by measurable town characteristics (covariates).
The model uses a Dirichlet distribution, which models multiple
proportions simultaneously while ensuring they sum to 100% and cannot be
negative. The word “Bayesian” means that the model begins with an
informed opinion about the likely shape of these distributions that is
updated as the model is tested against the available data. The model’s
framework allows covariates to be included, so that measurable
characteristics of towns can help explain variations in voter behavior.
The initial opinions about the likely shape of the distributions are
called “priors,” and the updated distributions that result from testing
against the data are called “posteriors.”</p>
<p>To implement this Bayesian approach, the model makes use of a
technique called Markov Chain Monte Carlo (MCMC) simulation to generate
samples from the posterior distributions of transition proportions. MCMC
works by creating a chain of samples where each new sample depends on
the previous one (the “Markov Chain” part), designed so that over many
iterations, the samples converge to properly represent the posterior
distribution. By running many iterations of the model (the “Monte Carlo”
part), it builds up a picture of the likely values for each transition
proportion, along with measures of uncertainty.</p>
<p>In building my model, I needed a way to select priors that enabled
the MCMC simulations to converge reliably. I accomplished this by first
running the model with non-informative priors, then analyzing the
resulting posterior distributions to identify reasonable prior
parameters for subsequent runs. I needed to be careful, though, that I
didn’t inadvertently bias the model by choosing priors that were too
tightly focused. Once I’d calculated reasonable prior parameters, I ran
the model multiple times for each pair of elections, checking for
convergence with a widely-used diagnostic (Gelman-Rubin).</p>
<p>Once I’d obtained converged models, I examined the results to see how
closely the town-by-town results from the model matched the actual
results (what statisticians call “residuals”). I had calculated
geographical, demographic, and economic data for each town that might
help explain variations in voter behavior, so I performed elastic net
regression (a method for systematically testing which variables best
explain the data) on these residuals to identify those that
significantly improved model fit. I then built new models that included
these covariates.</p>
<p>I ran each transition model ten times with different random starting
points but identical covariate specifications. Depending on amount of
uncertainty observed in each of these runs (measured by the ratios of
standard deviations to means), I selected either a representative run
(for stable estimates), a weighted consensus of the most consistent runs
(for moderate instability), or the element-wise median across all runs
(for high instability) as the final estimate for each transition.</p>
<p>For the data that I used in my models, I needed to estimate the
number of eligible voters in each town for each election year. Voters
weren’t required to register, so there are no official records of
eligible voters by town. Instead, I estimated the number of eligible
voters based on the total native-born, adult male population of each
town from the 1850 and 1860 censuses. To this I added estimates of the
number of naturalized male citizens, based on the number of foreign-born
adult males in each town and the average naturalization rates for
Connecticut during the 1840s and 1850s. Previous historians have used
techniques such as the number of taxable polls to estimate eligible
voters, and I needed to do the same for a handful of towns having
incorrect birthplace coding in their digitized census records. Finally,
I assumed a linear growth in eligible voters between 1850 and 1860 to
estimate the number of eligible voters for each town in each election
year.</p>
<p>The candidate covariates that I considered included:</p>
<ul>
<li>Longitude of the town’s geographic center (previous historians have
noted an east-west divide in Connecticut politics)</li>
<li>Latitude of the town’s geographic center</li>
<li>Distance from the town’s geographic center to the nearest railroad
line</li>
<li>Influence of neighboring towns on vote shares for each party
(spatial lag)</li>
<li>Percentage of various religious denominations, as approximated by
the accommodation data in the 1860 Census Social Statistics
schedule</li>
<li>Grouping religious denominations into “Pietistic” (Methodist,
Baptist, and others without formal clerical training) and “Liturgical”
(Congregationalist, Episcopalian, Catholic, and others with formal
clerical training)</li>
<li>Average age in 1850</li>
<li>Percentage of Irish-born residents in 1850</li>
<li>Percentage of Irish-born residents in 1860</li>
<li>Percentage of residents employed in farm jobs in 1850</li>
<li>Percentage of residents employed in farm jobs in 1860</li>
<li>Percentage of non-wealthy young adult males (ages 20-30, real
property no greater than $2000) in 1850</li>
<li>GINI index of 1850 real-property values</li>
<li>GINI index of 1860 real-property values</li>
<li>GINI index of 1860 total property values</li>
<li>Average total property value in 1860</li>
</ul>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
